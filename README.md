# Hit & Blow Solver

## 概要
このプログラムは、任天堂の「あそび大全」にある **ヒットアンドブロー** の推測をサポートするための Python ツールです。  
ユーザーが実際に打った手と結果を入力すると、残り候補を自動で絞り、次に打つべき最適手を提案します。

## 作成の目的
- 自分専用の練習用ツールとして、ヒットアンドブローを効率よく解く
- Python の練習とアルゴリズム理解のため
- 最短手数で答えにたどり着くロジックを学ぶ

## アルゴリズム
このプログラムは [**ミニマックス法**](https://ja.wikipedia.org/wiki/%E3%83%9F%E3%83%8B%E3%83%9E%E3%83%83%E3%82%AF%E3%82%B9%E6%B3%95) を簡略化した方法で最適手を提案します。

### 1. 候補生成
- 色は `B, R, G, Y, P, W` の 6 色
- 長さは4桁
- 重複あり
- 全 `6^4 = 1296` 通りの組み合わせを生成

### 2. ユーザー入力による候補フィルター
- ユーザーが打った `guess` と得られた結果（ヒットとブロー）を入力
- 候補の中で `score` が結果と一致するものだけを残す

### 3. 最適手の提案
- 残り候補をすべて仮の「答え」として扱う
- 各候補を `guess` とした場合の結果を計算
- 同じ `score` ごとに候補をグループ化
- 最大グループサイズが最小になる guess を選ぶ → 最悪ケースでも候補を効率よく絞る

### 4. 繰り返し
- 候補が1つになるまで、**2** と **3** を繰り返す
- 最短手数で答えにたどり着く

## 使い方

1. リポジトリをクローンして以下のコードを実行

```bash
python main.py
```

2. 画面の指示に従って `guess` と `result` を入力
3. プログラムが残り候補と次の推測を表示

### 入力形式
- **guess:** 4文字の色コードを入力 `(B, R, G, Y, P, W)`
- **result:** 1桁目はヒット数、2桁目はブロー数の2桁の数字を入力

### 注意点
- 入力が不正な場合は再入力を促します
- ヒット + ブロー が 4 を超えるとエラー
- `filter_candidates` 後に候補が 0 になる場合は、矛盾した入力の可能性があるため最初からやり直す必要があります

## ライセンス
このプロジェクトは [MIT License](LICENSE) のもとで公開しています。  
ぜひ好きなように書き換えたり改造したりして遊んでください。